"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[27],{3027:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var r=n(5861),t=n(4942),s=n(1413),o=n(9439),c=n(7757),i=n.n(c),l=n(2791),u=n(946),m=n(6718),d=n(8174),h=n(7689),f=n(5048),p=n(881),x=n(184),v={email:"",name:"",password:"",avatar:"https://ih1.redbubble.net/image.5075891342.0210/poster,504x498,f8f8f8-pad,600x600,f8f8f8.jpg"},b=function(){var e=(0,h.s0)(),a=(0,m.B)(),n=(0,o.Z)(a,2),c=n[0],b=n[1].isLoading,w=(0,m.yY)(),g=(0,o.Z)(w,1)[0],j=(0,f.I0)(),_=(0,l.useState)((0,s.Z)({},v)),k=(0,o.Z)(_,2),Z=k[0],y=k[1],N=function(e){var a=e.target,n=a.name,r=a.value;y((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,t.Z)({},n,r))}))},C=function(){var a=(0,r.Z)(i().mark((function a(n){var r,t,s;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,c(Z);case 4:if(!(r=a.sent).error){a.next=7;break}throw new Error(r.error.data.message);case 7:if(!r.data){a.next=16;break}return a.next=10,g({email:Z.email,password:Z.password});case 10:t=a.sent,s=t.data,j((0,p.o4)(s.access_token)),d.Am.success("User ".concat(Z.name," created successfully")),y(v),e("/");case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(1),d.Am.error(a.t0.message),y(v);case 22:case"end":return a.stop()}}),a,null,[[1,18]])})));return function(e){return a.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:C,children:[b&&(0,x.jsx)(u.Z,{color:"steelblue",cssOverride:{margin:"0 auto"},size:16}),(0,x.jsxs)("label",{className:"label",children:[(0,x.jsx)("h3",{children:"Name"}),(0,x.jsx)("input",{type:"text",name:"name",value:Z.name,placeholder:"Name",onChange:N})]}),(0,x.jsxs)("label",{className:"label",children:[(0,x.jsx)("h3",{children:"Email"}),(0,x.jsx)("input",{type:"email",name:"email",value:Z.email,placeholder:"E-mail",onChange:N})]}),(0,x.jsxs)("label",{className:"label",children:[(0,x.jsx)("h3",{children:"Password"}),(0,x.jsx)("input",{type:"password",name:"password",value:Z.password,placeholder:"Password",onChange:N})]}),(0,x.jsx)("button",{className:"form__button button",type:"submit",children:"Registration"})]})})},w=function(){return(0,x.jsxs)("div",{className:"container__register",children:[(0,x.jsx)("h2",{className:"register__header",children:"Registration"}),(0,x.jsx)(b,{})]})}},5861:function(e,a,n){function r(e,a,n,r,t,s,o){try{var c=e[s](o),i=c.value}catch(l){return void n(l)}c.done?a(i):Promise.resolve(i).then(r,t)}function t(e){return function(){var a=this,n=arguments;return new Promise((function(t,s){var o=e.apply(a,n);function c(e){r(o,t,s,c,i,"next",e)}function i(e){r(o,t,s,c,i,"throw",e)}c(void 0)}))}}n.d(a,{Z:function(){return t}})}}]);
//# sourceMappingURL=27.5c84097e.chunk.js.map