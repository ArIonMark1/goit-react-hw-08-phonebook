"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[340],{5340:function(e,n,r){r.r(n),r.d(n,{default:function(){return b}});var t=r(5861),a=r(4942),o=r(1413),s=r(9439),c=r(7757),i=r.n(c),u=r(2791),l=r(8174),h=r(5048),m=r(7689),d=r(6718),f=r(881),p=r(184),v={email:"",password:""},x=function(){var e=(0,u.useState)((0,o.Z)({},v)),n=(0,s.Z)(e,2),r=n[0],c=n[1],x=(0,d.yY)(),b=(0,s.Z)(x,1)[0],w=(0,m.s0)(),_=(0,h.I0)(),g=function(e){var n=e.target,r=n.name,t=n.value;c((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,a.Z)({},r,t))}))},j=function(){var e=(0,t.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,b(r);case 4:if(!(t=e.sent).error){e.next=7;break}throw new Error(t.error.data.message);case 7:t.data&&(_((0,f.o4)(t.data.access_token)),l.Am.success("Welcome back ".concat(r.email)),c(v),w("/")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),l.Am.error("Sorry you can't log in. ".concat(e.t0.message)),c(v);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{className:"form",onSubmit:j,children:[(0,p.jsxs)("label",{className:"label",children:[(0,p.jsx)("h3",{children:"Email"}),(0,p.jsx)("input",{type:"email",placeholder:"E-mail",name:"email",value:r.email,onChange:g})]}),(0,p.jsxs)("label",{className:"label",children:[(0,p.jsx)("h3",{children:"Password"}),(0,p.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:r.password,onChange:g})]}),(0,p.jsx)("button",{className:"form__button button",type:"submit",children:"Login"})]})})},b=function(){return(0,p.jsxs)("div",{className:"container__login",children:[(0,p.jsx)("h2",{children:"Login"}),(0,p.jsx)(x,{})]})}},5861:function(e,n,r){function t(e,n,r,t,a,o,s){try{var c=e[o](s),i=c.value}catch(u){return void r(u)}c.done?n(i):Promise.resolve(i).then(t,a)}function a(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function c(e){t(s,a,o,c,i,"next",e)}function i(e){t(s,a,o,c,i,"throw",e)}c(void 0)}))}}r.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=340.4af23bb6.chunk.js.map